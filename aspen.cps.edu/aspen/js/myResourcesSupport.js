var _myResourcesPanelPosition={left:0,top:100};var _isMyResourcesLoaded=false;var repositoryTree1;var STATE={};STATE.repositoryTreeOpen="repositoryTreeOpen";var appState={"repositoryTreeOpen":false};function setAppState(state,value){appState[state]=value}function getAppState(state){return appState[state]}
function createWebLinkInRepositoryTree(title,description,url){if(getAppState(STATE.repositoryTreeOpen))createWebLink(title,description,url);else openRepositoryTree(function(){createWebLink(title,description,url)})}
$(function(){$(".draggableByHandleWithinParent").draggable({handle:".draggableHandle",cursor:"pointer",containment:"parent",stop:function(){var windowScrollY=$(window).scrollTop();var panelTop=$("#myResourcesPanel").offset().top-windowScrollY;_myResourcesPanelPosition={left:$("#myResourcesPanel").offset().left,top:panelTop}}});$(".draggableByHandle").draggable({handle:".draggableHandle",cursor:"pointer",stop:function(){var windowScrollY=$(window).scrollTop();var panelTop=$("#myResourcesPanel").offset().top-
windowScrollY;_myResourcesPanelPosition={left:$("#myResourcesPanel").offset().left,top:panelTop}}})});$(window).on("scroll",function(){if($("#myResourcesPanel").length>0)$("#myResourcesPanel:not(.myResourcesSlideout)").offset({left:$("#myResourcesPanel").offset().left,top:_myResourcesPanelPosition.top+$(window).scrollTop()})});
function toggleMyResources(){$("#myResourcesPanel").toggle();$("#myResourcesPanel").offset({"left":_myResourcesPanelPosition.left,"top":_myResourcesPanelPosition.top+$(window).scrollTop()});if(!_isMyResourcesLoaded)$("#myResourcesContent").load(rewriteUrl("repositoryTree.do?panelId\x3dmyResourcesPanel\x26inputFormPanelId\x3dinputFormPanel"),function(){_isMyResourcesLoaded=true;$("#myResourcesPanel #myResourcesContent").show();repositoryTree1=new RepositoryTree("myResourcesPanel",{"referrer":parseBrowserUrlPath()});
var dblClickOpen=true;repositoryTree1.initialize(null,true,dblClickOpen)})}function closeMyResources(){$("#myResourcesPanel").hide()}function refreshAllRepositoryTrees(){$(".myResources").trigger(EVENT.refreshAllRepositoryTrees);if(window.opener)window.opener.$(".myResources").trigger(EVENT.refreshAllRepositoryTrees)}
function onRepositoryTreeLoaded(){var repositoryTree1=new RepositoryTree("myResourcesPanel",{"referrer":parseBrowserUrlPath()});var dblClickOpen=true;repositoryTree1.initialize(null,true,dblClickOpen)};